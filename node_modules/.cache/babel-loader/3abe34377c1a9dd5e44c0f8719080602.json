{"ast":null,"code":"var _jsxFileName = \"/home/salman/.local/share/dot_files/Storage/Workspace/soulfly/client/src/Home/Home.js\";\nimport './Home.css';\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport socketIOClient from 'socket.io-client';\nlet socket;\n\nconst Home = ({\n  location\n}) => {\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n  const [users, setUsers] = useState([]);\n  const {\n    name\n  } = queryString.parse(location.search);\n  useEffect(() => {\n    socket = socketIOClient('localhost:5000');\n    socket.emit('join', name);\n    socket.on('init', usrList => {\n      setUsers(users => usrList);\n      setMessages(oldMessages => [...oldMessages, {\n        class: 'admin',\n        content: `Welcome to the server ${name}`\n      }]);\n    });\n    socket.on('usrJoin', (users, name) => {\n      setUsers(oldUsers => users);\n      setMessages(oldMessages => [...oldMessages, {\n        class: 'admin',\n        content: `${name} has joined`\n      }]);\n    });\n    socket.on('message', message => {\n      setMessages(oldMessages => [...oldMessages, message]);\n    });\n    socket.on('usrLeave', (users, name) => {\n      setUsers(oldUsers => users);\n      setMessages(oldMessages => [...oldMessages, {\n        class: 'admin',\n        content: `${name} has left`\n      }]);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }\n  }, \"Logout\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Soulfly\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, users.map((user, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, user))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chats\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"log\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }\n  }, messages.map((message, index) => {\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: message.class,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, message.content);\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setMessage(e.target.value) // onInput={(e) => showTyping()}\n    // onFocus={(e) => showSeen()}\n    ,\n    value: message,\n    onKeyDown: e => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        socket.emit('message', {\n          class: 'own-message',\n          name: name,\n          id: socket.id,\n          content: message\n        });\n        setMessage('');\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 16\n    }\n  }))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/salman/.local/share/dot_files/Storage/Workspace/soulfly/client/src/Home/Home.js"],"names":["React","useState","useEffect","Link","queryString","socketIOClient","socket","Home","location","messages","setMessages","message","setMessage","users","setUsers","name","parse","search","emit","on","usrList","oldMessages","class","content","oldUsers","map","user","index","e","target","value","key","preventDefault","id"],"mappings":"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","sourcesContent":["import './Home.css';\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport socketIOClient from 'socket.io-client';\n\nlet socket;\n\nconst Home = ({ location }) => {\n   const [messages, setMessages] = useState([]);\n   const [message, setMessage] = useState('');\n   const [users, setUsers] = useState([]);\n   const { name } = queryString.parse(location.search);\n\n   useEffect(() => {\n      socket = socketIOClient('localhost:5000');\n\n      socket.emit('join', name);\n\n      socket.on('init', (usrList) => {\n         setUsers((users) => usrList);\n         setMessages((oldMessages) => [\n            ...oldMessages,\n            { class: 'admin', content: `Welcome to the server ${name}` },\n         ]);\n      });\n\n      socket.on('usrJoin', (users, name) => {\n         setUsers((oldUsers) => users);\n         setMessages((oldMessages) => [\n            ...oldMessages,\n            { class: 'admin', content: `${name} has joined` },\n         ]);\n      });\n\n\n      socket.on('message', message => {\n         setMessages((oldMessages) => [\n            ...oldMessages,\n            message\n         ]);\n      });\n\n      socket.on('usrLeave', (users, name) => {\n         setUsers((oldUsers) => users);\n         setMessages((oldMessages) => [\n            ...oldMessages,\n            { class: 'admin', content: `${name} has left` },\n         ]);\n      });\n   }, []);\n\n   return (\n      <div className=\"home\">\n         <div className=\"header\">\n            <Link to={'/'}>\n               <button>Logout</button>\n            </Link>\n            <div className=\"title\">Soulfly</div>\n         </div>\n\n         <div className=\"body\">\n            <div className=\"users\">\n               {users.map((user, index) => (\n                  <div className=\"user\" key={index}>\n                     {user}\n                  </div>\n               ))}\n            </div>\n\n            <div className=\"chats\">\n               <div className=\"log\">\n\n                  {/* <div className=\"own-messages\"> */}\n                  {/*    <b>salman: </b> */}\n                  {/*    Hey there */}\n                  {/* </div> */}\n\n                  {/* <div className=\"seen-status\">seen by saadman</div> */}\n\n                  {/* <div className=\"others-messages\"> */}\n                  {/*    <b>saadman: </b> */}\n                  {/*    Hi brother */}\n                  {/* </div> */}\n\n                  {/* <div className=\"typing-status\">saadman is typing</div> */}\n\n                  {messages.map((message, index) => {\n                     (\n                        <div className={message.class} key={index}>\n                           {message.content}\n                        </div>\n                     )\n                  })}\n\n               </div>\n\n               <input\n                  onChange={(e) => setMessage(e.target.value)}\n                  // onInput={(e) => showTyping()}\n                  // onFocus={(e) => showSeen()}\n                  value={message}\n                  onKeyDown={(e) => {\n                     if (e.key === 'Enter') {\n                        e.preventDefault();\n                        socket.emit('message', { class: 'own-message', name: name, id: socket.id, content: message });\n                        setMessage('');\n                     }\n                  }}\n               />\n\n\n            </div>\n         </div>\n      </div>\n   );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}