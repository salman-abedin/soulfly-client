{"ast":null,"code":"var _jsxFileName = \"/home/salman/.local/share/dot_files/Storage/Workspace/soulfly/client/src/Home/Home.js\";\nimport './Home.css';\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport socketIOClient from 'socket.io-client';\nlet socket;\n\nconst Home = ({\n  location\n}) => {\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [joined, setJoined] = useState([]);\n  const [left, setLeft] = useState([]);\n  const {\n    name\n  } = queryString.parse(location.search);\n  useEffect(() => {\n    socket = socketIOClient('localhost:5000');\n    socket.emit('join', name);\n    socket.on('init', usrList => {\n      setUsers(users => usrList);\n    });\n    socket.on('usrJoin', (users, name) => {\n      setUsers(oldUsers => users);\n      setMessages(oldMessages => [...oldMessages, {\n        class: 'join',\n        user: name\n      }]); // setJoined(oldJoined => [...oldJoined, name])\n    });\n    socket.on('usrLeave', (users, name) => {\n      setUsers(oldUsers => users);\n      setLeft(oldLeft => [...oldLeft, name]);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }\n  }, \"Logout\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"Soulfly\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, users.map((user, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 19\n    }\n  }, user))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chats\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"log\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }, \"Welcome to the server \", name), left[0] && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 35\n    }\n  }, left[left.length - 1], \" has left\"), joined[0] && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 37\n    }\n  }, joined[joined.length - 1], \" has joined\")), /*#__PURE__*/React.createElement(\"input\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 16\n    }\n  }))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/salman/.local/share/dot_files/Storage/Workspace/soulfly/client/src/Home/Home.js"],"names":["React","useState","useEffect","Link","queryString","socketIOClient","socket","Home","location","messages","setMessages","users","setUsers","joined","setJoined","left","setLeft","name","parse","search","emit","on","usrList","oldUsers","oldMessages","class","user","oldLeft","map","index","length"],"mappings":";AAAA,OAAO,YAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,IAAIC,MAAJ;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAC5B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACc,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAEgB,IAAAA;AAAF,MAAWb,WAAW,CAACc,KAAZ,CAAkBV,QAAQ,CAACW,MAA3B,CAAjB;AAEAjB,EAAAA,SAAS,CAAC,MAAM;AACbI,IAAAA,MAAM,GAAGD,cAAc,CAAC,gBAAD,CAAvB;AAEAC,IAAAA,MAAM,CAACc,IAAP,CAAY,MAAZ,EAAoBH,IAApB;AAEAX,IAAAA,MAAM,CAACe,EAAP,CAAU,MAAV,EAAmBC,OAAD,IAAa;AAC5BV,MAAAA,QAAQ,CAAED,KAAD,IAAWW,OAAZ,CAAR;AACF,KAFD;AAIAhB,IAAAA,MAAM,CAACe,EAAP,CAAU,SAAV,EAAqB,CAACV,KAAD,EAAQM,IAAR,KAAiB;AACnCL,MAAAA,QAAQ,CAAEW,QAAD,IAAcZ,KAAf,CAAR;AACAD,MAAAA,WAAW,CAACc,WAAW,IAAI,CAAC,GAAGA,WAAJ,EAAiB;AAAEC,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,IAAI,EAAET;AAAvB,OAAjB,CAAhB,CAAX,CAFmC,CAGnC;AACF,KAJD;AAMAX,IAAAA,MAAM,CAACe,EAAP,CAAU,UAAV,EAAsB,CAACV,KAAD,EAAQM,IAAR,KAAiB;AACpCL,MAAAA,QAAQ,CAAEW,QAAD,IAAcZ,KAAf,CAAR;AACAK,MAAAA,OAAO,CAACW,OAAO,IAAI,CAAC,GAAGA,OAAJ,EAAaV,IAAb,CAAZ,CAAP;AACF,KAHD;AAKF,GApBQ,EAoBN,EApBM,CAAT;AAsBA,sBACG;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADH,CADH,eAIG;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJH,CADH,eAQG;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIN,KAAK,CAACiB,GAAN,CAAU,CAACF,IAAD,EAAOG,KAAP,kBACR;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,GAAG,EAAEA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIH,IADJ,CADF,CAFJ,CADH,eAWG;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEG;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA8CT,IAA9C,CAFH,EAmBMF,IAAI,CAAC,CAAD,CAAJ,iBAAa;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBA,IAAI,CAACA,IAAI,CAACe,MAAL,GAAc,CAAf,CAA5B,cAnBnB,EAuBMjB,MAAM,CAAC,CAAD,CAAN,iBAAe;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBA,MAAM,CAACA,MAAM,CAACiB,MAAP,GAAgB,CAAjB,CAA9B,gBAvBrB,CADH,eA4BG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5BH,CAXH,CARH,CADH;AAqDF,CAlFD;;AAoFA,eAAevB,IAAf","sourcesContent":["import './Home.css';\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport socketIOClient from 'socket.io-client';\n\nlet socket;\n\nconst Home = ({ location }) => {\n   const [messages, setMessages] = useState([]);\n   const [users, setUsers] = useState([]);\n   const [joined, setJoined] = useState([]);\n   const [left, setLeft] = useState([]);\n   const { name } = queryString.parse(location.search);\n\n   useEffect(() => {\n      socket = socketIOClient('localhost:5000');\n\n      socket.emit('join', name);\n\n      socket.on('init', (usrList) => {\n         setUsers((users) => usrList);\n      });\n\n      socket.on('usrJoin', (users, name) => {\n         setUsers((oldUsers) => users);\n         setMessages(oldMessages => [...oldMessages, { class: 'join', user: name }])\n         // setJoined(oldJoined => [...oldJoined, name])\n      });\n\n      socket.on('usrLeave', (users, name) => {\n         setUsers((oldUsers) => users);\n         setLeft(oldLeft => [...oldLeft, name])\n      });\n\n   }, []);\n\n   return (\n      <div className=\"home\">\n         <div className=\"header\">\n            <Link to={'/'}>\n               <button>Logout</button>\n            </Link>\n            <div className=\"title\">Soulfly</div>\n         </div>\n\n         <div className=\"body\">\n            <div className=\"users\">\n\n               {users.map((user, index) => (\n                  <div className=\"user\" key={index}>\n                     {user}\n                  </div>\n               ))}\n\n            </div>\n\n            <div className=\"chats\">\n               <div className=\"log\">\n\n                  <div className=\"admin\">Welcome to the server {name}</div>\n\n                  {/* <div className=\"own-messages\"> */}\n                  {/*    <b>salman: </b> */}\n                  {/*    Hey there */}\n                  {/* </div> */}\n\n                  {/* <div className=\"seen-status\">seen by saadman</div> */}\n\n                  {/* <div className=\"others-messages\"> */}\n                  {/*    <b>saadman: </b> */}\n                  {/*    Hi brother */}\n                  {/* </div> */}\n\n                  {/* <div className=\"typing-status\">saadman is typing</div> */}\n\n                  {\n                     left[0] && ( <div className=\"admin\">{left[left.length - 1]} has left</div>)\n                  }\n\n                  {\n                     joined[0] && ( <div className=\"admin\">{joined[joined.length - 1]} has joined</div>)\n                  }\n\n               </div>\n               <input />\n            </div>\n         </div>\n      </div>\n   );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}